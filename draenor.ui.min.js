/*
*  Copyright 2014-01-01
*  Author wenren
*  Dependent 依赖于zepto.js，mobile端web modules*/

!function(a){var b=function(a,b){this.options=b};b.prototype={show:function(){a.DOMcollection.backdrop.show(),this.show()},hide:function(){a.DOMcollection.backdrop.hide(),this.hide()}},a.fn.dialog=function(c){return this.each(function(){var d=a(this),e=d.data("dialog");e||d.data("dialog",e=new b(d,c)),"string"==typeof c&&e[c].call(d)})},a.fn.dialog.Constructor=b}(Zepto);
!function(a){var b=function(b,c){var d=[],e=parseInt(c.Cnumber),f=c.setData,g=["#fec960","#49b5ed","#e86b66","#3dbc7c","#8794ff"],h=g.length,i=1;f.forEach(function(a,b){var c=Math.floor(parseInt(a.count)/e*100);a.percentage=c+"%",d.push(c),b===h*i&&i++,a.color=h>b?g[b]:g[h-(h*i%b+1)]});var j=a.template.compile(c.template),k=j({anaVote:c.setData});b.html(k),b.show();var l=b.find("div.analyAnimate"),m=new a.animates;setTimeout(function(){d.forEach(function(a,b){var c=l[b];m.concat(c,{width:a+"%"}),m.start()})},500)};a.fn.simpleAnalysis=function(a){new b(this,a)},a.fn.simpleAnalysis.Constructor=b}(Zepto);
!function(a){var b=!0,c={},d=function(d,e,f){for(var g=e.input,h=e.options.regx,i=0,j=g.length;j>i;i++){var k=g.eq(i),l=k.val();if(0===l.length){a.error.show(e.defaultmessage),a.error.hide(),b=!1;break}if(h){var m=h[i];if(m&&!m.desc){for(var n in m){if(!m[n].test(l)){a.error.show(n),a.error.hide(),b=!1;break}b=!0}if(!b)break}}b=!0,c[k.attr("data-key")]=l}b&&e.options.affairFun.call(d,c,f)},e=function(b,c){this.dom=b,this.id=b.attr("id"),this.options=c,this.input=this.dom.find("input");var e=this.options.type||"tap",f=a(this.options.submitElements),g=this;this.defaultmessage=c.defaultmessage||"账户或密码不能为空",f.on(e,function(a){d(this,g,a)})};a.fn.verification=function(b){return this.each(function(){var c=a(this),d=c.data("verification");d||c.data("verification",d=new e(c,b))})},a.fn.verification.Constructor=e}(Zepto);